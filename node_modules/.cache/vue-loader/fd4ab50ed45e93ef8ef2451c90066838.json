{"remainingRequest":"/Users/mehul/Meetuper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mehul/Meetuper/src/pages/PageMeetupEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mehul/Meetuper/src/pages/PageMeetupEdit.vue","mtime":1555971637636},{"path":"/Users/mehul/Meetuper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mehul/Meetuper/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mehul/Meetuper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mehul/Meetuper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n     import Datepicker from 'vuejs-datepicker'\n\t  import VueTimepicker from 'vue2-timepicker'\n\t  import {mapActions} from 'vuex'\n      import moment from 'moment'\n\t  export default {\n          components: {\n\t      Datepicker,\n\t      VueTimepicker\n\t    },\n\t    props: {\n\t      meetupId: {\n\t        required: true,\n\t        type: String\n\t      }\n\t    },\n        data () {\n\t      return {\n\t        disabledDates: {\n\t          customPredictor: function (date) {\n\t            const today = new Date()\n\t            const yesterday = today.setDate(today.getDate() - 1)\n\t            return date < yesterday\n\t          }\n\t        }\n\t      }\n\t    },\n        computed: {\n\t      meetup () {\n\t        const meetup = this.$store.state.meetups.item\n\t        if (this.hasValue(meetup)) {\n\t          const timeTo = this.parseTime(meetup.timeTo)\n\t          const timeFrom = this.parseTime(meetup.timeFrom)\n\t\n\t          return {...meetup, timeFrom, timeTo}\n\t        }\n\t\n\t        return {}\n\t      },\n          categories () {\n\t        return this.$store.state.categories.items\n\t      },\n\t      meetupCreator () {\n\t        return this.meetup.meetupCreator || {}\n\t      },\n\t      authUser () {\n\t        return this.$store.state.auth.user\n\t      }\n\t    },\n\t    created () {\n\t         this.fetchMeetupByIdHandler()\n             this.fetchCategories()\n\t    },\n\t    methods: {\n\t      ...mapActions('meetups', ['fetchMeetupById', 'updateMeetup']),\n          ...mapActions('categories', ['fetchCategories']),\n\t      fetchMeetupByIdHandler () {\n\t        this.fetchMeetupById(this.meetupId)\n\t          .then(meetup => {\n\t            if (meetup.meetupCreator._id !== this.authUser._id) {\n\t              this.$router.push({path: '/not-authorized'})\n\t            }\n\t          })\n\t          .catch(err => console.log(err))\n              },\n              updateMeetupHandler () {\n\t        this.updateMeetup(this.meetup)\n\t          .then(() => {\n\t            this.$toasted.success('Meetup Succesfuly Updated!', {duration: 3000})\n\t          })\n\t          .catch(err => console.log(err))\n\t      },\n\t      parseTime (time) {\n\t        const [HH, mm] = time.split(':')\n\t        return {HH, mm}\n\t      },\n\t      setDate (date) {\n\t        this.meetup.startDate = moment(date).format()\n\t      },\n\t      changeTime ({data}, field) {\n\t        const minutes = data.mm || '00'\n\t        const hours = data.HH || '00'\n\t        this.meetup[field] = hours + ':' + minutes\n\t      },\n\t      hasValue (meetup) {\n\t        const meetupLength = Object.keys(meetup).length\n\t        return meetupLength && meetupLength > 0\n\t      }\n\t    }\n\t  }\n\t",{"version":3,"sources":["PageMeetupEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageMeetupEdit.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t  <div class=\"meetup-detail-page\">\n\t    <section class=\"hero\">\n\t      <div class=\"hero-body\">\n\t        <div class=\"container\">\n\t          <h2 class=\"subtitle\">\n\t            {{meetup.startDate | formatDate}}\n\t          </h2>\n\t          <div class=\"field\">\n\t            <input v-model=\"meetup.title\"\n\t                   class=\"title input w-50\"\n\t            <input class=\"title input w-50\"\n\t                   type=\"text\">\n\t          </div>\n\t          <article class=\"media v-center\">\n\t            <figure class=\"media-left\">\n\t              <p class=\"image is-64x64\">\n\t                <!-- TODO: Display meetup creator avatar -->\n\t                <img class=\"is-rounded\" :src=\"meetupCreator.avatar\">\n\t              </p>\n\t            </figure>\n\t            <div class=\"media-content\">\n\t              <div class=\"content\">\n\t                <p>\n\t                  <!-- TODO: Display meetup creator name -->\n\t                  Created by <strong>{{meetupCreator.name}}</strong>\n\t                </p>\n\t              </div>\n\t            </div>\n\t          </article>\n\t        </div>\n\t        <div class=\"is-pulled-right\">\n\t          <!-- Update Button -->\n\t          <button @click=\"updateMeetupHandler\"\n\t                  class=\"button is-success is-large\">Update</button>\n\t        </div>\n\t      </div>\n\t    </section>\n\t    <section class=\"section\">\n\t      <div class=\"container\">\n\t        <div class=\"columns\">\n\t          <div class=\"column is-3\">\n\t            <aside class=\"is-medium menu\">\n\t              <div class=\"meetup-side-box\">\n\t                <div class=\"meetup-side-box-date m-b-sm\">\n\t                  <!-- TIMES START -->\n\t                  <p><b>Time</b></p>\n\t                  <!-- TODO - OPTIONAL - Make dates and times working -->\n\t                  <!-- Implementation almost the same as in create meetup -->\n\t\n\t                  <!-- 1. Disable Dates -->\n\t                  <!-- 2. Set Date on @input event-->\n\t                  <!-- 3. Display actual meetup startDate in :value -->\n\t                  <datepicker\n\t                    @input=\"setDate\"\n\t                    :value=\"meetup.startDate\"\n\t                    :disabledDates=\"disabledDates\"\n\t                    :input-class=\"'input'\"></datepicker>\n\t                    <div class=\"field m-t-md\">\n\t                      <!-- TODO: Implement @change Event -->\n\t                      <!-- TODO: Bind timeFrom value with v-model -->\n\t                    <vue-timepicker v-model=\"meetup.timeFrom\"\n\t                                    @change=\"changeTime($event, 'timeFrom')\"\n\t                                    :minute-interval=\"10\"></vue-timepicker>\n\t                  </div>\n\t                  <div class=\"field\">\n\t                    <!-- TODO: Implement @change Event -->\n\t                    <!-- TODO: Bind timeTo value with v-model -->\n\t                    <vue-timepicker v-model=\"meetup.timeTo\"\n\t                                    @change=\"changeTime($event, 'timeTo')\"\n\t                                    :minute-interval=\"10\"></vue-timepicker>\n\t                  </div>\n\t                  <!-- TIMES END -->\n\t                </div>\n                    <div class=\"meetup-side-box-place m-b-sm\">\n\t                  <p><b>Choose Category</b></p>\n\t                  <div class=\"field\">\n\t                    <div class=\"select\">\n\t                      <!-- TODO: Get Here Categories -->\n\t                      <select v-model=\"meetup.category\">\n\t                        <option v-for=\"category of categories\"\n\t                                :value=\"category\"\n\t                                :key=\"category.id\">{{category.name}}</option>\n\t                      </select>\n\t                    </div>\n\t                  </div>\n\t                </div>\n\t                <div class=\"meetup-side-box-place m-b-sm\">\n\t                  <p><b>How to find us</b></p>\n\t                  <div class=\"field\">\n\t                    <!-- TODO: Bind meetup location -->\n\t                    <input v-model=\"meetup.location\"\n\t                           class=\"input\"\n\t                           type=\"text\">\n\t                  </div>\n\t                </div>\n\t                <div class=\"meetup-side-box-more-info\">\n\t                  <p><b>Additional Info</b></p>\n\t                  <div class=\"field\">\n\t                    <!-- TODO: Bind meetup short info -->\n\t                    <textarea v-model=\"meetup.shortInfo\"\n\t                              class=\"textarea\"\n\t                              rows=\"5\"></textarea>\n\t                  </div>\n\t                </div>\n\t              </div>\n\t              <div class=\"meetup-side-box-map\">\n\t                <img src=\"https://cnet2.cbsistatic.com/img/H_zPLL8-QTZOLxJvgHQ1Jkz0EgY=/830x467/2013/07/10/f0bcef02-67c2-11e3-a665-14feb5ca9861/maps_routemap.png\" class=\"venueMap-mapImg span--100\" alt=\"Location image of meetup venue\">\n\t              </div>\n\t            </aside>\n\t          </div>\n\t          <div class=\"column is-7 is-offset-1\">\n\t            <div class=\"content is-medium\">\n\t              <h3 class=\"title is-3\">About the Meetup</h3>\n\t              <!-- TODO: Bind meetup description -->\n\t               <textarea v-model=\"meetup.description\"\n\t                        class=\"textarea\"\n\t                        rows=\"5\"></textarea>\n\t            </div>\n\t          </div>\n\t        </div>\n\t      </div>\n\t    </section>\n\t  </div>\n\t</template>\n\t\n\t<script>\n     import Datepicker from 'vuejs-datepicker'\n\t  import VueTimepicker from 'vue2-timepicker'\n\t  import {mapActions} from 'vuex'\n      import moment from 'moment'\n\t  export default {\n          components: {\n\t      Datepicker,\n\t      VueTimepicker\n\t    },\n\t    props: {\n\t      meetupId: {\n\t        required: true,\n\t        type: String\n\t      }\n\t    },\n        data () {\n\t      return {\n\t        disabledDates: {\n\t          customPredictor: function (date) {\n\t            const today = new Date()\n\t            const yesterday = today.setDate(today.getDate() - 1)\n\t            return date < yesterday\n\t          }\n\t        }\n\t      }\n\t    },\n        computed: {\n\t      meetup () {\n\t        const meetup = this.$store.state.meetups.item\n\t        if (this.hasValue(meetup)) {\n\t          const timeTo = this.parseTime(meetup.timeTo)\n\t          const timeFrom = this.parseTime(meetup.timeFrom)\n\t\n\t          return {...meetup, timeFrom, timeTo}\n\t        }\n\t\n\t        return {}\n\t      },\n          categories () {\n\t        return this.$store.state.categories.items\n\t      },\n\t      meetupCreator () {\n\t        return this.meetup.meetupCreator || {}\n\t      },\n\t      authUser () {\n\t        return this.$store.state.auth.user\n\t      }\n\t    },\n\t    created () {\n\t         this.fetchMeetupByIdHandler()\n             this.fetchCategories()\n\t    },\n\t    methods: {\n\t      ...mapActions('meetups', ['fetchMeetupById', 'updateMeetup']),\n          ...mapActions('categories', ['fetchCategories']),\n\t      fetchMeetupByIdHandler () {\n\t        this.fetchMeetupById(this.meetupId)\n\t          .then(meetup => {\n\t            if (meetup.meetupCreator._id !== this.authUser._id) {\n\t              this.$router.push({path: '/not-authorized'})\n\t            }\n\t          })\n\t          .catch(err => console.log(err))\n              },\n              updateMeetupHandler () {\n\t        this.updateMeetup(this.meetup)\n\t          .then(() => {\n\t            this.$toasted.success('Meetup Succesfuly Updated!', {duration: 3000})\n\t          })\n\t          .catch(err => console.log(err))\n\t      },\n\t      parseTime (time) {\n\t        const [HH, mm] = time.split(':')\n\t        return {HH, mm}\n\t      },\n\t      setDate (date) {\n\t        this.meetup.startDate = moment(date).format()\n\t      },\n\t      changeTime ({data}, field) {\n\t        const minutes = data.mm || '00'\n\t        const hours = data.HH || '00'\n\t        this.meetup[field] = hours + ':' + minutes\n\t      },\n\t      hasValue (meetup) {\n\t        const meetupLength = Object.keys(meetup).length\n\t        return meetupLength && meetupLength > 0\n\t      }\n\t    }\n\t  }\n\t</script>\n\t\n\t\n\t<style lang=\"scss\">\n\t\n\t.w-50 {\n\t  width: 50%;\n\t}\n\t\n\t.tag.is-warning {\n\t  opacity: 0.5;\n\t}\n\t\n\t.meetup-detail-page {\n\t  background-color: #f5f5f5;\n\t\n\t  .mapouter{text-align:right;height:500px;width:600px;}.gmap_canvas {overflow:hidden;background:none!important;height:500px;width:600px;}\n\t\n\t  .hero-body {\n\t    background-color: white;\n\t    border: 1px solid rgba(46,62,72,.12);\n\t    color: white;\n\t\n\t      background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1531263060782-b024de9b9793?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80');\n\t    background-size: cover;\n\t    background-repeat: no-repeat;\n\t    background-attachment: fixed;\n\t\n\t      > p,h1,h2, strong {\n\t        color: white;\n\t      }\n\t    }\n\t\n\t  .meetup-side-box {\n\t    background-color: white;\n\t    border-radius: 10px;\n\t    font-size: 16px;\n\t    padding: 15px;\n\t  }\n\t}\n\t\n\tpre,\n\t.message {\n\t  max-width: 960px;\n\t}\n\t\n\t.v-center {\n\t  align-items: center;\n\t}\n\t\n\tli {margin: 10px}\n\t\n\t.hero.is-primary {\n\tbackground: linear-gradient(to top right, #524ad0 10%, #D099FA);\n\t}\n\t\n\t.box {\n\t  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n\t}\n\t\n\t.box span.icon {\n\t  float: right;\n\t  font-size: 1.7em;\n\t  padding: 2rem 2rem 0 0;\n\t}\n\t\n\t.is-large.fab {\n\t  font-size: 7em;\n\t}\n\t\n\t.is-large.fas {\n\t  font-size: 5em;\n\t  margin-left: 0.2em;\n\t}\n\t\n\t.media-content {overflow: hidden;}\n\t\n\t.menu-list li a:hover {\n\t  background: #d9d9d9;\n\t}\n\t\n\t.token.number {\n\t  display: inline;\n\t  padding: inherit;\n\t  font-size: inherit;\n\t  line-height: inherit;\n\t  text-align: inherit;\n\t  vertical-align: inherit;\n\t  border-radius: inherit;\n\t  font-weight: inherit;\n\t  white-space: inherit;\n\t  background: inherit;\n\t  margin: inherit;\n\t}\n\t.footer {background-color: white;}\n\t</style>"]}]}